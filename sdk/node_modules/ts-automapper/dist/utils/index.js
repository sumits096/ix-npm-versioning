"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeepValue = exports.setDeepValue = exports.getKeysFromPredicate = void 0;
exports.getKeysFromPredicate = function (predicate) {
    if (!predicate) {
        return [];
    }
    var regex = /(\.\w+)/g;
    var keys = [];
    var stringsArray;
    while ((stringsArray = regex.exec(predicate.toString())) !== null) {
        // This is necessary to avoid infinite loops with zero-width matches
        if (stringsArray.index === regex.lastIndex) {
            regex.lastIndex++;
        }
        var key = stringsArray[0].replace(".", "");
        keys.push(key);
    }
    return keys;
};
exports.setDeepValue = function (obj, path, value) {
    var keys = path.split(".");
    var tempObject = obj;
    while (keys.length - 1) {
        var aKey = keys.shift();
        var keyExists = aKey in tempObject;
        if (!keyExists) {
            tempObject[aKey] = {};
        }
        tempObject = tempObject[aKey];
    }
    tempObject[keys[0]] = value;
};
exports.getDeepValue = function (obj, path) {
    path = path.replace(/\[(\w+)\]/g, ".$1").replace(/^\./, "");
    var keys = path.split(".");
    var tempObject = obj;
    while (keys.length) {
        var aKey = keys.shift();
        var keyExists = aKey in tempObject;
        if (!keyExists) {
            return;
        }
        tempObject = tempObject[aKey];
    }
    return tempObject;
};
//# sourceMappingURL=index.js.map