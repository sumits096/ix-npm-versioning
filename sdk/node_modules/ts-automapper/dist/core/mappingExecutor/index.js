"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var mapping_executor_utils_1 = require("./mapping-executor.utils");
var MappingExecutor = /** @class */ (function () {
    function MappingExecutor() {
        this.buildDestinationObject = function (source, predicates) {
            var output = {};
            predicates.forEach(function (aPredicate) {
                var sourcePredicate = aPredicate.sourcePredicate, destinationPredicate = aPredicate.destinationPredicate, _a = aPredicate.options, _b = _a.type, type = _b === void 0 ? "string" : _b, _c = _a.operation, operation = _c === void 0 ? function (value) { return value; } : _c, conditions = _a.conditions;
                var valueRaw = mapping_executor_utils_1.getValueByPredicate(source, sourcePredicate, type);
                var shouldContinue = mapping_executor_utils_1.execConditions(source, conditions);
                var value = shouldContinue
                    ? mapping_executor_utils_1.execOperation(valueRaw, operation)
                    : undefined;
                mapping_executor_utils_1.setDeepValueByPredicate(output, destinationPredicate, value);
            });
            return output;
        };
    }
    return MappingExecutor;
}());
exports.default = MappingExecutor;
//# sourceMappingURL=index.js.map