"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mapWith = void 0;
function mapWith(withDestination, withSource, withSourceValue) {
    return [
        4 /* MapWith */,
        (source, mapper) => {
            const sourceValue = withSourceValue(source);
            if (Array.isArray(sourceValue)) {
                return mapper.mapArray(sourceValue, withDestination, withSource);
            }
            return mapper.map(sourceValue, withDestination, withSource);
        },
        withSourceValue,
    ];
}
exports.mapWith = mapWith;
//# sourceMappingURL=map-with.js.map