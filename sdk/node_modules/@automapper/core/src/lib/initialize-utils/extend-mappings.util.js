"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extendMappings = void 0;
const utils_1 = require("../utils");
function extendMappings(bases, mapping) {
    for (let i = 0, basesLen = bases.length; i < basesLen; i++) {
        const mappingToExtend = bases[i];
        const propsToExtend = mappingToExtend[2 /* properties */];
        for (let i = 0, len = propsToExtend.length; i < len; i++) {
            const [propToExtendKey, propToExtendMappingProp] = propsToExtend[i];
            const existProp = mapping[2 /* properties */].find(([pKey]) => (0, utils_1.isSamePath)(pKey, propToExtendKey));
            if (existProp) {
                existProp[0 /* path */] = propToExtendKey;
                existProp[1 /* property */] = propToExtendMappingProp;
            }
            else {
                mapping[2 /* properties */].push([
                    propToExtendKey,
                    propToExtendMappingProp,
                ]);
            }
        }
        if (mapping[6 /* bases */] == null) {
            mapping[6 /* bases */] = [];
        }
        mapping[6 /* bases */].push(mappingToExtend[0 /* mappings */]);
    }
}
exports.extendMappings = extendMappings;
//# sourceMappingURL=extend-mappings.util.js.map